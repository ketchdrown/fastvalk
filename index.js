const qu=A;function A(k,K){const N=q();return A=function(e,B){e=e-0x1a1;let a=N[e];return a;},A(k,K);}(function(k,K){const qv=A,N=k();while(!![]){try{const e=-parseInt(qv(0x1dc))/0x1*(-parseInt(qv(0x1ce))/0x2)+-parseInt(qv(0x1b1))/0x3*(-parseInt(qv(0x1d9))/0x4)+-parseInt(qv(0x1b5))/0x5+parseInt(qv(0x1ca))/0x6*(parseInt(qv(0x1e2))/0x7)+parseInt(qv(0x1de))/0x8+parseInt(qv(0x1e3))/0x9+parseInt(qv(0x1c9))/0xa*(-parseInt(qv(0x1cf))/0xb);if(e===K)break;else N['push'](N['shift']());}catch(B){N['push'](N['shift']());}}}(q,0x937ae));function q(){const qG=['GdxJC','TWILIGHT_WALTZ_CANCEL_DELAY','delay','loc','aspd','19187890pnPpKe','6UsRlKZ','enable','RUNEBURST_CANCEL_DELAY','message','848heqsmk','11PbUOGC','GLAIVE_STRIKE_CANCEL_DELAY','disabled','skill','reaction','require','GROUND_BASH_CANCEL_DELAY','KQrBl','\x20Valkyrie\x20script\x20is\x20now\x20','gISYX','4qLWqVV','MAELSTROM_CANCEL_DELAY','nextvalk','1477qOJxvX','11-31','5818112ZXhXmc','type','GGyDA','jFJBZ','6248354IEHDSE','2035935kQpjMz','GUNGNIRS_BITE_CANCEL_DELAY','exports','game','SqNgF','akRvH','glaiver','templateId','uBGYL','target','WUmxM','KWIDj','number','enabled','DuAuO','7-2','floor','C_CANCEL_SKILL','S_ACTION_END','hMTmQ','JtncO','S_ACTION_STAGE','890106YYNudm','add','path','24-4','1230920XgIhZk','class','gameId','fixedDelay','LEAPING_STRIKE_CANCEL_DELAY','buBKb','toClient','SPINNING_DEATH_CANCEL_DELAY','ujMjx','hook','setTimeout','./config.json','S_EACH_SKILL_RESULT','clearTimeout','SHINING_CRESCENT_CANCEL_DELAY'];q=function(){return qG;};return q();}const fs=require('fs'),path=require(qu(0x1b3));module[qu(0x1e5)]=function ValkJS(k){const qp=qu,{command:K}=k,{player:N}=k[qp(0x1d4)]['library'];let e={},B=!![],a=null,R=require(qp(0x1c0));R['RUNEBURST_CANCEL_DELAY']&&typeof R[qp(0x1cc)]===qp(0x1a7)&&(qp(0x1ba)!==qp(0x1a6)?e['16']={'delay':R[qp(0x1cc)],'fixedDelay':!![]}:N['6']={'delay':e['LEAPING_STRIKE_CANCEL_DELAY']});R['GUNGNIRS_BITE_CANCEL_DELAY']&&typeof R[qp(0x1e4)]===qp(0x1a7)&&(e['23']={'delay':R['GUNGNIRS_BITE_CANCEL_DELAY']});R[qp(0x1b9)]&&typeof R[qp(0x1b9)]===qp(0x1a7)&&('JtncO'!==qp(0x1af)?N['9']={'delay':e[qp(0x1d5)]}:e['6']={'delay':R[qp(0x1b9)]});if(R[qp(0x1da)]&&typeof R[qp(0x1da)]===qp(0x1a7)){if(qp(0x1a3)===qp(0x1a3))e['5']={'delay':R[qp(0x1da)]};else{if(!M||r[qp(0x1b7)]!==n[qp(0x1e6)]['me'][qp(0x1b7)]||P[qp(0x1e6)]['me'][qp(0x1b6)]!=='glaiver')return;const v=j['floor'](C['skill']['id']/0x2710),u=Q['skill']['id']%0x64;if(O&&(v in G||v+'-'+u in b))return z=null,U[qp(0x1df)]==0xbd1e8b?(w[qp(0x1df)]=0x4,!![]):![];}}R[qp(0x1c3)]&&typeof R['SHINING_CRESCENT_CANCEL_DELAY']===qp(0x1a7)&&(qp(0x1d8)===qp(0x1bd)?N[qp(0x1dd)]={'delay':e[qp(0x1c3)]}:e[qp(0x1dd)]={'delay':R['SHINING_CRESCENT_CANCEL_DELAY']});R['GLAIVE_STRIKE_CANCEL_DELAY']&&typeof R['GLAIVE_STRIKE_CANCEL_DELAY']==='number'&&(e['3']={'delay':R[qp(0x1d0)]});if(R[qp(0x1d5)]&&typeof R[qp(0x1d5)]===qp(0x1a7)){if(qp(0x1e1)===qp(0x1e1))e['9']={'delay':R[qp(0x1d5)]};else{const p=Q in O?G[b]:S[W+'-'+s];z=U['setTimeout'](()=>{const qM=qp;p[qM(0x1bb)](qM(0x1ad),0x5,{'gameId':X[qM(0x1b7)],'loc':{'x':l[qM(0x1c7)]['x'],'y':t[qM(0x1c7)]['y'],'z':I['loc']['z']},'w':V['w'],'templateId':L[qM(0x1a2)],'skill':g['skill']['id'],'type':0xbd1e8b,'id':x['id']});},p['fixedDelay']?p[qp(0x1c6)]:p[qp(0x1c6)]/J[qp(0x1c8)]);}}R[qp(0x1c5)]&&typeof R[qp(0x1c5)]===qp(0x1a7)&&(e[qp(0x1b4)]={'delay':R[qp(0x1c5)]});if(R[qp(0x1bc)]&&typeof R[qp(0x1bc)]==='number'){if(qp(0x1c4)==='GdxJC')e[qp(0x1aa)]={'delay':R['SPINNING_DEATH_CANCEL_DELAY']};else return![];}K[qp(0x1b2)](qp(0x1db),{'$default'(){const qr=qp;B=!B,K['message'](qr(0x1d7)+(B?'enabled':'disabled')+'.');}}),k[qp(0x1be)](qp(0x1b0),0x9,{'order':-0xf4240,'filter':{'fake':!![]}},M=>{const qn=qp;if(qn(0x1a9)!=='DuAuO')N['16']={'delay':e[qn(0x1cc)],'fixedDelay':!![]};else{if(!B||M[qn(0x1b7)]!==k[qn(0x1e6)]['me']['gameId']||k[qn(0x1e6)]['me'][qn(0x1b6)]!==qn(0x1a1))return;const n=Math[qn(0x1ab)](M['skill']['id']/0x2710),P=M['skill']['id']%0x64;if(n in e||n+'-'+P in e){if('hMTmQ'!==qn(0x1ae))e[qn(0x1c2)](B),a=null;else{const C=n in e?e[n]:e[n+'-'+P];a=k[qn(0x1bf)](()=>{const qP=qn;if(qP(0x1e0)==='GGyDA')k[qP(0x1bb)](qP(0x1ad),0x5,{'gameId':M[qP(0x1b7)],'loc':{'x':M[qP(0x1c7)]['x'],'y':M[qP(0x1c7)]['y'],'z':M['loc']['z']},'w':M['w'],'templateId':M[qP(0x1a2)],'skill':M[qP(0x1d2)]['id'],'type':0xbd1e8b,'id':M['id']});else{if(!T||!c||v[qP(0x1a4)]!==u[qP(0x1e6)]['me']['gameId']||!p[qP(0x1d3)]['enable'])return;M[qP(0x1c2)](r),n=null;}},C[qn(0x1b8)]?C['delay']:C['delay']/N['aspd']);}}}}),k[qp(0x1be)](qp(0x1ad),0x5,{'order':-0xf4240,'filter':{'fake':!![]}},M=>{const qj=qp;if('SqNgF'===qj(0x1e7)){if(!B||M[qj(0x1b7)]!==k[qj(0x1e6)]['me'][qj(0x1b7)]||k[qj(0x1e6)]['me'][qj(0x1b6)]!==qj(0x1a1))return;const r=Math[qj(0x1ab)](M[qj(0x1d2)]['id']/0x2710),n=M[qj(0x1d2)]['id']%0x64;if(a&&(r in e||r+'-'+n in e))return a=null,M[qj(0x1df)]==0xbd1e8b?(M[qj(0x1df)]=0x4,!![]):![];}else N['23']={'delay':e[qj(0x1e4)]};}),k[qp(0x1be)](qp(0x1ac),0x3,M=>{const qC=qp;if(qC(0x1d6)==='KQrBl'){if(!B||k[qC(0x1e6)]['me'][qC(0x1b6)]!==qC(0x1a1))return;a&&(qC(0x1e8)!==qC(0x1a5)?(k['clearTimeout'](a),a=null):(B=!a,R[qC(0x1cd)](qC(0x1d7)+(h?qC(0x1a8):qC(0x1d1))+'.')));}else{if(!W||s[qC(0x1b7)]!==z[qC(0x1e6)]['me'][qC(0x1b7)]||U['game']['me']['class']!==qC(0x1a1))return;const P=f['floor'](w[qC(0x1d2)]['id']/0x2710),j=E[qC(0x1d2)]['id']%0x64;if(P in m||P+'-'+j in o){const C=P in H?Y[P]:q0[P+'-'+j];q1=q2[qC(0x1bf)](()=>{const qQ=qC;P[qQ(0x1bb)]('S_ACTION_END',0x5,{'gameId':j[qQ(0x1b7)],'loc':{'x':C[qQ(0x1c7)]['x'],'y':qB[qQ(0x1c7)]['y'],'z':qa['loc']['z']},'w':qR['w'],'templateId':qh[qQ(0x1a2)],'skill':qT[qQ(0x1d2)]['id'],'type':0xbd1e8b,'id':qc['id']});},C[qC(0x1b8)]?C[qC(0x1c6)]:C[qC(0x1c6)]/qk[qC(0x1c8)]);}}}),k[qp(0x1be)](qp(0x1c1),0xf,{'order':-0x989680},M=>{const qO=qp;if(!B||!a||M[qO(0x1a4)]!==k[qO(0x1e6)]['me'][qO(0x1b7)]||!M[qO(0x1d3)][qO(0x1cb)])return;k[qO(0x1c2)](a),a=null;});};